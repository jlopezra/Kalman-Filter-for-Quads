function [H1,H2]=SingleBearingJacobianIQ(Xfilter,P,j,index)
% j= index another quadrotor
% index= quadrotor index
Xk=Xfilter(9*(index-1)+1:9*(index-1)+9,1);
Xj=Xfilter(9*(j-1)+1:9*(j-1)+9,1);

x1=Xk(1);
y1=Xk(2);
z1=Xk(3);


x2=Xj(1);
y2=Xj(2);
z2=Xj(3);

Hb1 = [ -(y1 - y2)/((x1 - x2)^2*((y1 - y2)^2/(x1 - x2)^2 + 1)), 1/((x1 - x2)*((y1 - y2)^2/(x1 - x2)^2 + 1)), 0, 0, 0, 0, 0, 0, -1, (y1 - y2)/((x1 - x2)^2*((y1 - y2)^2/(x1 - x2)^2 + 1)), -1/((x1 - x2)*((y1 - y2)^2/(x1 - x2)^2 + 1)), 0, 0, 0, 0, 0, 0, 0];
 

Hb2 = [ ((2*x1 - 2*x2)*(z1 - z2))/(2*((x1 - x2)^2 + (y1 - y2)^2)^(3/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), ((2*y1 - 2*y2)*(z1 - z2))/(2*((x1 - x2)^2 + (y1 - y2)^2)^(3/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), -1/(((x1 - x2)^2 + (y1 - y2)^2)^(1/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), 0, 0, 0, 0, -1, 0, -((2*x1 - 2*x2)*(z1 - z2))/(2*((x1 - x2)^2 + (y1 - y2)^2)^(3/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), -((2*y1 - 2*y2)*(z1 - z2))/(2*((x1 - x2)^2 + (y1 - y2)^2)^(3/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), 1/(((x1 - x2)^2 + (y1 - y2)^2)^(1/2)*((z1 - z2)^2/((x1 - x2)^2 + (y1 - y2)^2) + 1)), 0, 0, 0, 0, 0, 0];
 

H1=zeros(1,9*P.Nq);
H2=zeros(1,9*P.Nq);
H1(1,9*(index-1)+1:9*(index-1)+9)=Hb1(1:9);
H1(1,9*(j-1)+1:9*(j-1)+9)=Hb1(10:18);
H2(1,9*(index-1)+1:9*(index-1)+9)=Hb2(1:9);
H2(1,9*(j-1)+1:9*(j-1)+9)=Hb2(10:18);